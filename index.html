<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>توليد كروت سكاي نت</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style/style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="blue">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <!-- ✅ شاشة تسجيل الدخول باستخدام Firebase -->
  <div id="login-container">
    <div id="login-box">
      <img src="img/logo.png" alt="شعار سكاي نت" class="logoin">
      <h2>تسجيل الدخول</h2>
      <input type="email" id="email" placeholder="البريد الإلكتروني" />
      <input type="password" id="password" placeholder="كلمة المرور" />
      <button onclick="firebaseLogin()">دخول</button>
      <p id="login-error" style="color:red; display:none;"></p>
    </div>
  </div>

  <!-- ✅ واجهة التطبيق بعد تسجيل الدخول -->
  <div id="mainApp" style="display: none;">
    <div class="header-box">
      <h1>برنامج سكاي نت</h1>
      <img src="img/logo.png" alt="شعار سكاي نت" class="logo-img">
    </div>

    <div class="controls">
      <!-- أزرار التحكم -->
       <div style="display: flex; gap: 20px;">
      <div class="form-group"><label>السعر والحجم:</label>
      <select id="info">
        <option value="٥٠٠ ريال -- الحجم: ١ جيجا" > باقه ابو ٥٠٠ ريال </option>
        <option value="١٠٠٠ ريال -- الحجم: ٢ جيجا"> باقة ابو ١٠٠٠ريال </option>
        <option value="١٦٠٠ ريال -- الحجم: ٣ جيجا"> باقة ابو ١٦٠٠ ريال</option>
        <option value="٢٠٠٠ ريال -- الحجم: ٥ جيجا"> باقة ابو ٢٠٠٠ريال</option>
        <option value="٣٠٠٠ ريال -- الحجم: ٩ جيجا" selected> باقة ابو ٣٠٠٠ ريال</option>
      </select>
    </div>
    <div class="form-group">
      <label for="bg-select">الخلفية:</label>
      <select id="bg-select">
<option value="card1.png">خلفية ١</option>
<option value="card2.png" selected>خلفية ٣٠٠٠</option>
<option value="card9.png">خلفية ١٠٠٠</option>
<option value="card16.png">خلفية ٥٠٠</option>
<option value="card3.png">خلفية ٣</option>
<option value="card4.png">خلفية ٤</option>
<option value="card5.png">خلفية ٥</option>
<option value="card6.png">خلفية ٦</option>
<option value="card7.png">خلفية ٧</option>
<option value="card8.png">خلفية ٨</option>
<option value="card10.png">خلفية ١٠</option>
<option value="card11.png">خلفية ١١</option>
<option value="card12.png">خلفية ١٢</option>
<option value="card13.png">خلفية ١٣</option>
<option value="card14.png">خلفية ١٤</option>
<option value="card15.png">خلفية ١٥</option>
<option value="card20.png">خلفية ٢٠</option>
<option value="card21.png">خلفية ٢١</option>
<option value="card22.png">خلفية ٢٢</option>
      </select>
    </div></div>
   <div style="display: flex; gap: 20px;">
    <div class="form-group"><label>الحجم والزمن:</label>
      <select id="limit">
        <option value="limit-bytes-total=1074M limit-uptime=7d">١ جيجا / ٧ يوم</option>
        <option value="limit-bytes-total=2148M limit-uptime=15d">٢ جيجا / ١٥ يوم</option>
        <option value="limit-bytes-total=3072M limit-uptime=20d">٣ جيجا / ٢٠ يوم</option>
        <option value="limit-bytes-total=5000M limit-uptime=25d">٥ جيجا / ٢٥ يوم</option>
        <option value="limit-bytes-total=9659M limit-uptime=30d" selected>٩ جيجا / ٣٠ يوم</option>
      </select>
    </div>
    <div class="form-group"><label>المدة:</label>
      <select id="duration"><option>٧ يوم</option><option>١٥ يوم</option><option>٢٠ يوم</option><option>٢٥ يوم</option><option selected>٣٠ يوم</option></select>
    </div></div>
      
      <div style="display: flex; gap: 10px;">
    <div class="form-group"><label>اسم الشبكة:</label><input type="text" id="network-name" value="سكاي نت"></div>
    <div class="form-group"><label>بادئة الكود:</label><input type="text" id="prefix" value="w" maxlength="2"></div></div>
      <div style="display: flex; gap: 10px;">
    <div class="form-group"><label>عدد الصفحات:</label><input type="number" id="pages" value="1" min="1"></div>
    <div class="form-group"><label>التعليق:</label>
      <input type="text" id="comment" placeholder="أدخل التعليق يدويًا">
      <!--select id="comment"><option>500</option><option>1000</option><option>1600</option><option>2000</option><option selected>3000</option></select!--></div></div>
      <div style="display: flex; gap: 10px;">
    <div class="form-group"><label>الملف الشخصي:</label><input type="text" id="profile" value="default"></div>
    <div class="form-group"><label>اسم السيرفر:</label>
      <input type="text" id="server"
        value="sky.net"
      >
      <!--select id="server"><option selected>sky.net</option><option>home.net</option><option>fiber.local</option></select!-->
    </div></div>
      <div class="button-row">
      <button onclick="generateCards()">🌀 توليد كروت جديدة</button>
      <button onclick="downloadPDF()">📄 تحميل PDF</button></div>
      <div class="button-row">
      <button onclick="copyScriptToClipboard()">📋 نسخ السكربت</button>
      <button onclick="downloadText()">💾 حفظ السكربت في ملف</button></div>
      <div class="button-row">
      <button onclick="exportToExcel()">📊 تصدير إلى Excel</button>
      <button onclick="loadSavedCards()">📂 عرض الكروت المحفوظة</button></div>
      <div class="button-row">
      <button onclick="resetGeneratedCards()">🔁 إعادة تعيين البيانات</button>
      <button onclick="logout()">🚪 تسجيل الخروج</button></div>
    </div>
    
<button onclick="location.href='manage.html'">🧰 الأدوات المتقدمة</button>
    <div id="card-container"></div>
  </div>

  <!-- ✅ Toast للتنبيه -->
  <div id="mini-toast" style="
    display: none;
    position: fixed;
    top: 560px;
    right: 30px;
    background-color: rgba(76, 175, 80, 0.9);
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 14px;
    font-family: 'Cairo', sans-serif;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    z-index: 9999;">
    ✅ تم توليد الكروت!
  </div>

  <!-- ✅ Firebase SDKs -->
  <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyC8iJQzh2J2b0Rd32Q5cjfBUNOD2okka2c",
    authDomain: "skynetprinterv2.firebaseapp.com",
    projectId: "skynetprinterv2",
    storageBucket: "skynetprinterv2.firebasestorage.app",
    messagingSenderId: "197906976200",
    appId: "1:197906976200:web:6f18d05cb2ed02fb7a84fd",
    measurementId: "G-YWZL6DPJTV"
  };

  // تهيئة Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
</script>

  <!-- ✅ مكتبات خارجية  اكسل و pdf-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.3/html2pdf.bundle.min.js"></script>

  <!-- ✅ السكربت الرئيسي -->
  <script src="script/script.js"></script>
</body>
</html>